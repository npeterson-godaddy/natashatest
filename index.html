<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBR Status Update Formatter</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .guidelines {
            background-color: #e8f4f8;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #3498db;
        }
        
        .form-section {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: #34495e;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            box-sizing: border-box;
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: #3498db;
            outline: none;
        }
        
        .helper-text {
            font-size: 12px;
            color: #7f8c8d;
            margin-top: 5px;
        }
        
        .output {
            background-color: #2c3e50;
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            min-height: 50px;
        }
        
        .validation {
            padding: 15px;
            border-radius: 5px;
            margin-top: 10px;
        }
        
        .valid {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .invalid {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .warning {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        
        button {
            background-color: #3498db;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-right: 10px;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .clear-btn {
            background-color: #95a5a6;
        }
        
        .clear-btn:hover {
            background-color: #7f8c8d;
        }
        
        .examples {
            background-color: #f1f2f6;
            padding: 15px;
            border-radius: 5px;
            margin-top: 10px;
        }
        
        .example-item {
            margin-bottom: 10px;
        }
        
        .good-example {
            color: #27ae60;
        }
        
        .bad-example {
            color: #e74c3c;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä MBR Status Update Formatter</h1>
        
        <div class="guidelines">
            <h3>üìã Guidelines Reminder</h3>
            <p><strong>A status update must include:</strong></p>
            <ul>
                <li><strong>Quantifiable Metric:</strong> Measurable data point</li>
                <li><strong>Key Driver(s):</strong> What's affecting the metric</li>
                <li><strong>Context:</strong> Baseline numbers, comparisons, or time periods</li>
            </ul>
        </div>

        <div class="form-section">
            <h3>üìù Input Your Data</h3>
            
            <div class="form-group">
                <label for="metric">Quantifiable Metric *</label>
                <input type="text" id="metric" placeholder="e.g., Customer satisfaction, Revenue, Response time">
                <div class="helper-text">What specific metric are you reporting on?</div>
            </div>

            <div class="form-group">
                <label for="currentValue">Current Value *</label>
                <input type="text" id="currentValue" placeholder="e.g., 90%, $2.3M, 2.1 seconds">
                <div class="helper-text">What is the current measurement?</div>
            </div>

            <div class="form-group">
                <label for="contextType">Context Type *</label>
                <select id="contextType">
                    <option value="">Select context type...</option>
                    <option value="baseline">Baseline Comparison</option>
                    <option value="target">Target Comparison</option>
                    <option value="period">Period Comparison</option>
                    <option value="percentage">Percentage of Total</option>
                    <option value="multiple">Multiple Comparisons</option>
                </select>
            </div>

            <div class="form-group">
                <label for="contextValue">Context Value *</label>
                <input type="text" id="contextValue" placeholder="e.g., from 85%, target 88%, vs last month">
                <div class="helper-text">Provide the comparison value or baseline</div>
            </div>

            <div class="form-group">
                <label for="driver">Key Driver(s) *</label>
                <input type="text" id="driver" placeholder="e.g., new training program, supply chain delays, marketing campaign">
                <div class="helper-text">What is the primary cause or driver of this change?</div>
            </div>

            <div class="form-group">
                <label for="action">Resulting Action/Implication</label>
                <input type="text" id="action" placeholder="e.g., exceeding Q2 target, implementing mitigation plan">
                <div class="helper-text">What action or implication results from this metric? (Optional)</div>
            </div>
        </div>

        <button onclick="generateUpdate()">Generate Status Update</button>
        <button onclick="clearForm()" class="clear-btn">Clear Form</button>

        <div id="validation"></div>

        <div class="output" id="output">
            Your formatted status update will appear here...
        </div>

        <div class="examples">
            <h4>üí° Examples</h4>
            <div class="example-item good-example">
                ‚úÖ <strong>Good:</strong> Customer satisfaction increased to 90% (from 85% baseline), exceeding our Q2 target of 88% due to new training program implementation
            </div>
            <div class="example-item good-example">
                ‚úÖ <strong>Good:</strong> Revenue reached $2.3M (15% above target), driven by successful product launch in Q2
            </div>
            <div class="example-item bad-example">
                ‚ùå <strong>Bad:</strong> Customer satisfaction improved (missing quantifiable metric and context)
            </div>
            <div class="example-item bad-example">
                ‚ùå <strong>Bad:</strong> Revenue is up (missing specific numbers and drivers)
            </div>
        </div>
    </div>

    <script>
        function generateUpdate() {
            const metric = document.getElementById('metric').value.trim();
            const currentValue = document.getElementById('currentValue').value.trim();
            const contextType = document.getElementById('contextType').value;
            const contextValue = document.getElementById('contextValue').value.trim();
            const driver = document.getElementById('driver').value.trim();
            const action = document.getElementById('action').value.trim();

            // Validation
            const validation = validateInputs(metric, currentValue, contextValue, driver);
            displayValidation(validation);

            if (!validation.isValid) {
                document.getElementById('output').textContent = 'Please fix the validation errors above to generate your status update.';
                return;
            }

            // Generate the status update
            let update = `${metric} ${generateMetricPhrase(currentValue, contextValue)} due to ${driver}`;
            
            if (action) {
                update += `, ${action}`;
            }

            document.getElementById('output').textContent = update;
        }

        function generateMetricPhrase(currentValue, contextValue) {
            // Determine if it's an increase, decrease, or neutral
            const changeWords = ['increased', 'decreased', 'improved', 'declined', 'rose', 'fell', 'reached', 'achieved'];
            const hasChangeWord = changeWords.some(word => 
                currentValue.toLowerCase().includes(word) || 
                contextValue.toLowerCase().includes(word)
            );

            if (hasChangeWord) {
                return `(${contextValue})`;
            } else {
                return `reached ${currentValue} (${contextValue})`;
            }
        }

        function validateInputs(metric, currentValue, contextValue, driver) {
            const errors = [];
            const warnings = [];

            // Required field validation
            if (!metric) errors.push('Quantifiable Metric is required');
            if (!currentValue) errors.push('Current Value is required');
            if (!contextValue) errors.push('Context Value is required');
            if (!driver) errors.push('Key Driver is required');

            // Quality validation
            if (metric && !hasQuantifiableIndicators(metric)) {
                warnings.push('Metric should be quantifiable (e.g., include words like rate, percentage, count, time)');
            }

            if (currentValue && !hasNumbers(currentValue)) {
                errors.push('Current Value must include quantifiable numbers or percentages');
            }

            if (driver && driver.toLowerCase().includes('various') || driver.toLowerCase().includes('multiple factors')) {
                warnings.push('Try to identify the single most important driver for better focus');
            }

            return {
                isValid: errors.length === 0,
                errors: errors,
                warnings: warnings
            };
        }

        function hasQuantifiableIndicators(text) {
            const indicators = ['rate', 'percentage', 'count', 'time', 'score', 'index', 'volume', 'revenue', 'cost', 'satisfaction', 'performance'];
            return indicators.some(indicator => text.toLowerCase().includes(indicator));
        }

        function hasNumbers(text) {
            return /\d/.test(text) || text.includes('%') || text.includes('$');
        }

        function displayValidation(validation) {
            const validationDiv = document.getElementById('validation');
            validationDiv.innerHTML = '';

            if (validation.errors.length > 0) {
                const errorDiv = document.createElement('div');
                errorDiv.className = 'validation invalid';
                errorDiv.innerHTML = '<strong>‚ùå Errors:</strong><br>' + validation.errors.map(error => `‚Ä¢ ${error}`).join('<br>');
                validationDiv.appendChild(errorDiv);
            }

            if (validation.warnings.length > 0) {
                const warningDiv = document.createElement('div');
                warningDiv.className = 'validation warning';
                warningDiv.innerHTML = '<strong>‚ö†Ô∏è Suggestions:</strong><br>' + validation.warnings.map(warning => `‚Ä¢ ${warning}`).join('<br>');
                validationDiv.appendChild(warningDiv);
            }

            if (validation.isValid && validation.warnings.length === 0) {
                const successDiv = document.createElement('div');
                successDiv.className = 'validation valid';
                successDiv.innerHTML = '<strong>‚úÖ All requirements met!</strong> Your status update follows MBR guidelines.';
                validationDiv.appendChild(successDiv);
            }
        }

        function clearForm() {
            document.getElementById('metric').value = '';
            document.getElementById('currentValue').value = '';
            document.getElementById('contextType').value = '';
            document.getElementById('contextValue').value = '';
            document.getElementById('driver').value = '';
            document.getElementById('action').value = '';
            document.getElementById('validation').innerHTML = '';
            document.getElementById('output').textContent = 'Your formatted status update will appear here...';
        }

        // Add real-time validation
        document.addEventListener('DOMContentLoaded', function() {
            const inputs = ['metric', 'currentValue', 'contextValue', 'driver'];
            inputs.forEach(id => {
                document.getElementById(id).addEventListener('input', function() {
                    // Optional: Add real-time validation feedback
                });
            });
        });
    </script>
</body>
</html>
